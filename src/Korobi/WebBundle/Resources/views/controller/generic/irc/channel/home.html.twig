{% extends 'KorobiWebBundle::layout.html.twig' %}
{% import "KorobiWebBundle::macro/log_render.html.twig" as log_render %}

{% set page_title = channel_name ~ ' on ' ~ network_name %}

{% block body %}
    <h1>{{ channel_name }} on <a href="{{ path('network', {'network': network_slug}) }}">{{ network_name }}</a></h1>
    {% if topic.value is empty %}
        <h3>No topic set</h3>
    {% else %}
        <h2>Topic: <em>{{ topic.value|ircformat|raw }}</em></h2>
        <h3>Topic set by: <em>{{ topic.setter_nick }}</em> on {{ topic.time }}</h3>
    {% endif %}


    {% if sample_logs is not empty %}
        <strong>Live logs</strong>
        {# I'd love https://github.com/twigphp/Twig/issues/929 #}
        {{  log_render.log_render(sample_logs, false, false) }}
    {% endif %}
    <strong>Command Prefix: </strong> {{ command_prefix }}<br>
    {% if channel.LastActivityValid != null %}
    <strong>Last activity: </strong> <time datetime="{{ channel.LastActivityValid.getTimestamp() }}" title="{{ channel.LastActivityValid.getTimestamp()|date("c") }}">
    {{ relativeTime(now, channel.LastActivityValid.getTimestamp()) }}</time>
    {% endif %}
    <br>
    {% for link in links %}
        <a href="{{ link.href }}">{{ link.name }}</a><br>
    {% endfor %}
{% endblock %}
